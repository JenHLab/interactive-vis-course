<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  
  <link rel="stylesheet" type="text/css" href="../css/fixed-nav-bar.css" />
  <link rel="stylesheet" type="text/css" href="../css/markdown.css" />
</head>
<body>


<nav class="fixed-nav-bar">
  <div id="menu" class="menu">
    <a class="sitename" href="http://arnicas.github.io/interactive-vis-course/index.html">Interactive Data Vis</a>
    <a class="show" href="#menu">Menu</a><a class="hide" href="#hidemenu">Menu</a>
    <ul class="menu-items">
      <li><a href="http://arnicas.github.io/interactive-vis-course/index.html">Course Home</a></li>
      <li><a href="http://arnicas.github.io/interactive-vis-course/examples.html">Examples List</a></li>
      <li><a href="http://github.com/arnicas/interactive-vis-course/">Repo</a></li>
      <li><a href="http://www.ghostweather.com">Lynn's Site</a></li>
      <li><a href="//twitter.com/arnicas">@arnicas</a></li>
  </ul>
  </div>
</nav>

<h3>On This Page...</h3>
<div id="TOC">
<ul>
<li><a href="#week-9-stacking-chart-types-intro-to-small-multiples">Week 9: Stacking Chart Types, Intro to Small Multiples</a><ul>
<li><a href="#homework-review">Homework Review</a><ul>
<li><a href="#final-bar-homework-code">Final Bar Homework Code</a></li>
<li><a href="#human-menus">Human Menus</a></li>
<li><a href="#key-functions">Key Functions</a></li>
<li><a href="#another-reminder-dcolumn">Another Reminder: d[column]</a></li>
<li><a href="#updates-are-important">Updates Are Important</a></li>
<li><a href="#review-refactor">Review Refactor</a></li>
</ul></li>
<li><a href="#new-chart-types">New Chart Types</a><ul>
<li><a href="#area-charts">Area Charts</a></li>
<li><a href="#stacked-area">Stacked Area</a></li>
<li><a href="#streamgraph">Streamgraph</a></li>
<li><a href="#stacked-bar-chart">Stacked Bar Chart</a></li>
<li><a href="#normalized-stacked-bar-chart">Normalized Stacked Bar Chart</a></li>
<li><a href="#aside-on-javascript-keys-and-mapping">Aside on Javascript Keys and Mapping</a></li>
<li><a href="#bar-groups">Bar Groups</a></li>
<li><a href="#intro-to-small-multiples-in-d3">Intro to Small Multiples in D3</a></li>
</ul></li>
<li><a href="#recent-interesting-things">Recent Interesting Things</a></li>
<li><a href="#homework">Homework</a></li>
</ul></li>
</ul>
</div>
<h1 id="week-9-stacking-chart-types-intro-to-small-multiples">Week 9: Stacking Chart Types, Intro to Small Multiples</h1>
<h2 id="homework-review">Homework Review</h2>
<ul>
<li>Cibonay's Hispanic/White Students: <a href="http://bl.ocks.org/cibonaydames/raw/beebedbe445d75132320/" class="uri">http://bl.ocks.org/cibonaydames/raw/beebedbe445d75132320/</a></li>
<li>Han's Guns: <a href="https://bl.ocks.org/jashcny/raw/9d9f6423aff9cdf7ef54/" class="uri">https://bl.ocks.org/jashcny/raw/9d9f6423aff9cdf7ef54/</a></li>
<li>Hyan's Education: <a href="http://bl.ocks.org/hfreitas92/raw/b110ef723f6fa524eb76/" class="uri">http://bl.ocks.org/hfreitas92/raw/b110ef723f6fa524eb76/</a></li>
<li>Josh's Tickets: <a href="http://bl.ocks.org/CafeConVega/raw/d50192a1505b5adc44f4/" class="uri">http://bl.ocks.org/CafeConVega/raw/d50192a1505b5adc44f4/</a></li>
<li>Sunny's Meat: <a href="http://bl.ocks.org/sunnyuxuan/4485a768738421cc78cb" class="uri">http://bl.ocks.org/sunnyuxuan/4485a768738421cc78cb</a></li>
<li>Sherman's split line: <a href="http://bl.ocks.org/Shewitt95/3cff111dceeb17cce275" class="uri">http://bl.ocks.org/Shewitt95/3cff111dceeb17cce275</a></li>
<li>Jennifer's commuters: <a href="http://bl.ocks.org/JenHLab/7dccd8f9e80b8659f2d3" class="uri">http://bl.ocks.org/JenHLab/7dccd8f9e80b8659f2d3</a></li>
<li>Zhou's drivers: <a href="http://bl.ocks.org/captainelaine/879ed6a6364d6831ea24" class="uri">http://bl.ocks.org/captainelaine/879ed6a6364d6831ea24</a></li>
<li>Luying's Men-Women Drama: <a href="http://bl.ocks.org/luluwuluying/ed843a39eb2883e32911" class="uri">http://bl.ocks.org/luluwuluying/ed843a39eb2883e32911</a><br />
(there is a subtle but important bug in here. Let's review.)</li>
</ul>
<h3 id="final-bar-homework-code">Final Bar Homework Code</h3>
<ul>
<li>See it here: <a href="bar_homework_done_safe.html" class="uri">bar_homework_done_safe.html</a></li>
</ul>
<h3 id="human-menus">Human Menus</h3>
<p>Make the menu items human-friendly when you can, like here - don't just duplicate the data column:</p>
<pre><code>&lt;option value=&quot;HIV_AIDS&quot;&gt;HIV_AIDS&lt;/option&gt;</code></pre>
<h3 id="key-functions">Key Functions</h3>
<p>You should review this article: <a href="https://bost.ocks.org/mike/constancy/" class="uri">https://bost.ocks.org/mike/constancy/</a></p>
<p>This is not a filter or subset operation. It is a way to tell your data what is the &quot;constant&quot; item that ties it to a piece of the DOM, so update transitions will work right and move the right elements.</p>
<pre><code>var labels = svg.selectAll(&quot;text.labels&quot;)
            .data(data, function (d) { return d.Country; });</code></pre>
<p>I know it looks like this is just getting the d.Country values for the data binding, but it's not; it's using the whole data set but saying &quot;remember each one by the country field.&quot;</p>
<p>You do NOT want to say <code>d[column]</code> here. That will just make the updates confused.</p>
<h3 id="another-reminder-dcolumn">Another Reminder: d[column]</h3>
<p>Syntax in Javascript objects:</p>
<p><code>d.white</code> is the same as <code>d[&quot;white&quot;]</code></p>
<p><code>d.column</code> is the same as <code>d[&quot;column&quot;]</code></p>
<p>If <code>column</code> is a variable that changes value, you want to use <code>d[column]</code>. (NO QUOTES AROUND <code>column</code>.) That means it will fill in the string that is the variable value!</p>
<p>This is an example of how you might use this -- get a column of data from a UI menu:</p>
<pre><code>var myVariable = d3.select(&quot;#menu&quot;).property(&quot;value&quot;); // get select menu&#39;s current value
console.log(myVariable, data[myVariable]);</code></pre>
<p>If you are still confused, I recommend reading more about Javascript object notation.</p>
<h3 id="updates-are-important">Updates Are Important</h3>
<p>Let's review this code example of the update function: <a href="http://bl.ocks.org/mbostock/3808221" class="uri">http://bl.ocks.org/mbostock/3808221</a></p>
<p>And then this on transitions: <a href="http://bl.ocks.org/mbostock/3808234" class="uri">http://bl.ocks.org/mbostock/3808234</a></p>
<p>Always put the attributes you are <strong>changing</strong> in the update transition, not in the enter() itself. Otherwise they won't get updated on the old items that were already created!</p>
<p>DON'T DO THIS:</p>
<pre><code>labels
            .enter()
            .append(&quot;text&quot;)
            .attr(&quot;transform&quot;, function(d) {  // bad - will not get updated!
             return &quot;translate(&quot; + xScale(+d.AvgHourWomen) + &quot;,&quot; + yScale(+d.AvgHourMen) + &quot;)&quot;;
            })
            .text(function()...);

labels.transition()
    .duration(1000);</code></pre>
<p>What's wrong with that is the &quot;transform(translate)&quot; will not <strong>move</strong> the existing items to a new location. You need to put that in the transition update if you want them ALL to move.</p>
<p>DO THIS:</p>
<pre><code>labels
    .enter()
    .append(&quot;text&quot;)
    .text(function()...);

labels.transition()
    .duration(1000)
    .attr(&quot;transform&quot;, function(d) { // good- this will happen on all items, new and old
     return &quot;translate(&quot; + xScale(+d.AvgHourWomen) + &quot;,&quot; + yScale(+d.AvgHourMen) + &quot;)&quot;;
    });
</code></pre>
<h3 id="review-refactor">Review Refactor</h3>
<p>I posted the refactor of Han's example here: <a href="Week8/refactor.html">refactor.html</a>. There are still a few things that can be DRYed out, but it's much better.</p>
<h2 id="new-chart-types">New Chart Types</h2>
<h3 id="area-charts">Area Charts</h3>
<p>The area chart is a line chart, but filled in! There is a new layout for it:</p>
<pre><code>    var area = d3.svg.area()
        .x(function(d) {
            return xScale(dateFormat.parse(d.year));
        })
        .y0(height)  // the bottom line, if you use the margin convention correctly
        .y1(function(d) {
            return yScale(+d.amount); // the top line
        });</code></pre>
<p>Example in <a href="area_plot.html" class="uri">area_plot.html</a>, based off a Scotty Murray example.</p>
<h3 id="stacked-area">Stacked Area</h3>
<p>We use the area layout and the stack function for this.</p>
<p>The stacker adds elements to your dataset that say what &quot;level&quot; an item should go in. It calculates a y0, for the y base location, and a y, which is the height from the base position. These get added to your dataset if they weren't there already. (Note: A lot of stacked bar examples just construct the y and y0 by hand, instead of using the stack function. But if you use the stack layout, you can do transitions very easily!)</p>
<p>Reference:</p>
<ul>
<li><a href="https://github.com/mbostock/d3/wiki/Stack-Layout" class="uri">https://github.com/mbostock/d3/wiki/Stack-Layout</a></li>
<li>IDVW: <a href="http://chimera.labs.oreilly.com/books/1230000000345/ch11.html#_stack_layout" class="uri">http://chimera.labs.oreilly.com/books/1230000000345/ch11.html#_stack_layout</a>.</li>
<li>See: Line to Stacked Area transitions (too flashy, but): <a href="http://bl.ocks.org/tswast/4390054" class="uri">http://bl.ocks.org/tswast/4390054</a></li>
</ul>
<p>See <a href="stacked_area.html" class="uri">stacked_area.html</a>, which uses the stack layout.</p>
<h3 id="streamgraph">Streamgraph</h3>
<p>The streamgraph is a minor variant on the stacked area chart! If you've used the stack layout, you can transition to it easily.</p>
<p>Reference:</p>
<ul>
<li>Here's a NYT example: <a href="http://www.nytimes.com/interactive/2008/02/23/movies/20080223_REVENUE_GRAPHIC.html?_r=0" class="uri">http://www.nytimes.com/interactive/2008/02/23/movies/20080223_REVENUE_GRAPHIC.html?_r=0</a></li>
<li>A recent news example: <a href="https://www.foreignaffairs.com/infographics/2015-10-15/china-not-rogue-donor" class="uri">https://www.foreignaffairs.com/infographics/2015-10-15/china-not-rogue-donor</a></li>
<li>Another interactive streamgraph example (with highlights and fake tooltips): <a href="http://bl.ocks.org/WillTurman/4631136" class="uri">http://bl.ocks.org/WillTurman/4631136</a></li>
<li>A famous one by Pitch Interactive: <a href="http://www.wired.com/2010/11/ff_311_new_york/all/1" class="uri">http://www.wired.com/2010/11/ff_311_new_york/all/1</a></li>
</ul>
<p>The only difference is:</p>
<pre><code>var stack = d3.layout.stack()
    .offset(&quot;silhouette&quot;) // &lt;-- instead of zero!
    .values(function(d) { return d.values; })
    .x(function(d) { return formatDate.parse(d.Year);})
    .y(function(d) { return +d.Measles; });</code></pre>
<h4 id="how-would-we-transition-between-them">How would we transition between them?</h4>
<p>I have edited <a href="stacked_area.html" class="uri">stacked_area.html</a> to add a button to switch between the two views. Notice how the code has to be re-architected to support the toggle. See it in <a href="stacked_area_to_stream.html" class="uri">stacked_area_to_stream.html</a>.</p>
<p>The code structure changes to have a &quot;setup&quot; function for when the data is loaded, and a &quot;redraw&quot; for when the button is toggled. This includes the transition to the new layout offset type.</p>
<p>There's a slightly more complex example of this written in CoffeeScript by Jim Vallandingham on FlowingData (Nathan Yau's site):</p>
<ul>
<li>Demo: <a href="http://projects.flowingdata.com/tut/chart_transitions_demo/" class="uri">http://projects.flowingdata.com/tut/chart_transitions_demo/</a></li>
<li><a href="https://flowingdata.com/2013/01/17/how-to-animate-transitions-between-multiple-charts/" class="uri">https://flowingdata.com/2013/01/17/how-to-animate-transitions-between-multiple-charts/</a></li>
</ul>
<p>If you need access via account and password, let me know.</p>
<h3 id="stacked-bar-chart">Stacked Bar Chart</h3>
<p>Reference:</p>
<ul>
<li>Read this in <a href="http://chimera.labs.oreilly.com/books/1230000000345/ch11.html#_stack_layout" class="uri">http://chimera.labs.oreilly.com/books/1230000000345/ch11.html#_stack_layout</a>.</li>
</ul>
<p>See <a href="stacked_bar.html" class="uri">stacked_bar.html</a>. Some things to notice here:</p>
<ul>
<li>We nest the data by the thing you want in the legend - the illnesses.</li>
<li>The colors in the legend would be in reverse order from the way the bars are built (bottom up), so we reverse those.</li>
<li>Adding tooltips is a HUGE help for this kind of chart. Consider it mandatory.</li>
</ul>
<h3 id="normalized-stacked-bar-chart">Normalized Stacked Bar Chart</h3>
<p>This is a very small variant, after you get the <a href="stacked_bar.html" class="uri">stacked_bar.html</a> working. See the <code>//</code> notes in the file.<br />
Just add offset &quot;expand&quot; to the layout! (The default offset is &quot;zero&quot;.)</p>
<pre><code>var stack = d3.layout
    .stack()
    .offset(&quot;expand&quot;);</code></pre>
<p>You have to be sure you change your labels on the Y axis to be %'s too:</p>
<pre><code>var yAxis = d3.svg.axis()
    .scale(yScale)
    .orient(&quot;left&quot;)
    .tickFormat(d3.format(&quot;.2s&quot;)); // for the stacked totals version
    //.tickFormat(d3.format(&quot;%&quot;)); // for the normalized version</code></pre>
<h4 id="how-would-we-transition-between-them-1">How would we transition between them?</h4>
<p>See my example <a href="stacked_bar_transitions.html" class="uri">stacked_bar_transitions.html</a>. This includes a bunch of refactoring into functions, where there is repetition, too. Let's discuss it.</p>
<p>See also <a href="http://bl.ocks.org/tmaybe/6144082" class="uri">http://bl.ocks.org/tmaybe/6144082</a>. Might be overkill!</p>
<h3 id="aside-on-javascript-keys-and-mapping">Aside on Javascript Keys and Mapping</h3>
<p>We need to get serious about data munging with map. A lot of the online examples for this week used mapping to make the data for the stacked layouts. Mike Bostock says &quot;it's just as easy to make the y0, y1 by hand&quot; for the stacked bars. Note if you don't use the stack layout, you can't easily switch to a normalized view when you want.</p>
<p>But we should try to understand some of the code for doing it &quot;by hand&quot; because so many examples use it. And some of them are really terse.</p>
<p>Reminder about a map:</p>
<pre><code>var array = [{a: 10, b: 20, c: 30}, {a: 14, b: 2, c: 31}];
var the_a = array.map(function (d) { return d.a;});
the_a
[10, 14]</code></pre>
<p>Maps return arrays. They are like forEach function loops, except those don't return arrays explicitly. (Although you can use them to create new arrays like we've seen with &quot;push&quot;).</p>
<p>Let's look at the stacked bar example in **<a href="http://bl.ocks.org/mbostock/3886208**" class="uri">http://bl.ocks.org/mbostock/3886208**</a>. He makes the data using a confusing, compressed few lines.</p>
<p>The data in the CSV looks like this:</p>
<pre><code>State,Under 5 Years,5 to 13 Years,14 to 17 Years,18 to 24 Years,25 to 44 Years,45 to 64 Years,65 Years and Over
AL,310504,552339,259034,450818,1231572,1215966,641667
AK,52083,85640,42153,74257,198724,183159,50277
AZ,515910,828669,362642,601943,1804762,1523681,862573
AR,202070,343207,157204,264160,754420,727124,407205
....</code></pre>
<p>First, note we have:</p>
<pre><code>var color = d3.scale.ordinal()
    .range([&quot;#98abc5&quot;, &quot;#8a89a6&quot;, &quot;#7b6888&quot;, &quot;#6b486b&quot;, &quot;#a05d56&quot;, &quot;#d0743c&quot;, &quot;#ff8c00&quot;]);</code></pre>
<p>This sets up specific colors to use.</p>
<p>Then:</p>
<pre><code>color.domain(d3.keys(data[0]).filter(function(key) { return key !== &quot;State&quot;; }));</code></pre>
<p>What does this do? Any guesses? Starting from data[0], the &quot;keys&quot; are the attribute names, like &quot;State.&quot;</p>
<pre><code>&gt;data[0]
Object {State: &quot;AL&quot;, Under 5 Years: &quot;310504&quot;, 5 to 13 Years: &quot;552339&quot;, 14 to 17 Years: &quot;259034&quot;, 18 to 24 Years: &quot;450818&quot;…}</code></pre>
<p>Now guess... d3.keys() returns the object attribute names, which are keys.</p>
<p>So the color domain:</p>
<pre><code>&gt;color.domain()
[&quot;Under 5 Years&quot;, &quot;5 to 13 Years&quot;, &quot;14 to 17 Years&quot;, &quot;18 to 24 Years&quot;, &quot;25 to 44 Years&quot;, &quot;45 to 64 Years&quot;, &quot;65 Years and Over&quot;]</code></pre>
<p>Then this madness, to create the format for the stacking manually, instead of using a stack layout:</p>
<pre><code>data.forEach(function(d) {
    var y0 = 0;
    d.ages = color.domain().map(function(name) { return {name: name, y0: y0, y1: y0 += +d[name]}; });
    d.total = d.ages[d.ages.length - 1].y1;
  });</code></pre>
<p>All the action is in the ages array creation. It's the same as:</p>
<pre><code>data.forEach(function (d) {
    var y0 = 0;
    d.ages = [&quot;Under 5 Years&quot;, &quot;5 to 13 Years&quot;, &quot;14 to 17 Years&quot;, &quot;18 to 24 Years&quot;, &quot;25 to 44 Years&quot;, &quot;45 to 64 Years&quot;, &quot;65 Years and Over&quot;].map(function(name) {
        var height = y0 + +d[name];
        var obj = { label: name,
                    y0: y0,
                    y1: height };
        y0 = height;
        return obj;
    });
    d.total = d.ages[d.ages.length - 1].y1; // last y1, which is the total height
})</code></pre>
<p>Because his <code>{name: name, y0: y0, y1: y0 += +d[name]};</code> is incrementing the y0 each time through the map loop, so that each time it is the sum of the value of d[name] and the previous y0.</p>
<h3 id="bar-groups">Bar Groups</h3>
<ul>
<li>Grouped bar chart example: <a href="http://bl.ocks.org/mbostock/3887051" class="uri">http://bl.ocks.org/mbostock/3887051</a></li>
<li>See my version in <a href="grouped_bars.html" class="uri">grouped_bars.html</a>.</li>
</ul>
<p>Fancier - Animations!</p>
<ul>
<li>Stacked to Grouped Bars Animation: <a href="http://bl.ocks.org/mbostock/3943967" class="uri">http://bl.ocks.org/mbostock/3943967</a></li>
<li>Stacked to multiples transition: <a href="http://bl.ocks.org/mbostock/4679202" class="uri">http://bl.ocks.org/mbostock/4679202</a></li>
<li><strong>Bonus Fancy</strong>: Conversion of Mike's example to using real data! <a href="bostock_stacked_to_group.html" class="uri">bostock_stacked_to_group.html</a>.</li>
</ul>
<h3 id="intro-to-small-multiples-in-d3">Intro to Small Multiples in D3</h3>
<p>Three ways:</p>
<ul>
<li><a href="http://bl.ocks.org/mbostock/1157787" class="uri">http://bl.ocks.org/mbostock/1157787</a></li>
<li><a href="http://bl.ocks.org/mbostock/9490313" class="uri">http://bl.ocks.org/mbostock/9490313</a> (uses 'each' and calls the drawing funct)</li>
<li><a href="http://bl.ocks.org/mbostock/9490516" class="uri">http://bl.ocks.org/mbostock/9490516</a> (I find this one strange)</li>
<li>Area Charts with a UI filter: <a href="http://flowingdata.com/2012/01/05/build-interactive-time-series-charts-with-filters/" class="uri">http://flowingdata.com/2012/01/05/build-interactive-time-series-charts-with-filters/</a> (see old D3 Code alert below)</li>
</ul>
<p>Tutorials by Jim Vallandingham (that unfortunately use CoffeeScript):</p>
<ul>
<li>Small Multiples with Details on Demand <a href="http://vallandingham.me/small_multiples_with_details.html" class="uri">http://vallandingham.me/small_multiples_with_details.html</a></li>
<li>Linked Small Multiples: <a href="https://flowingdata.com/2014/10/15/linked-small-multiples/" class="uri">https://flowingdata.com/2014/10/15/linked-small-multiples/</a></li>
<li>Small Multiple Maps tutorial: <a href="http://blog.webkid.io/multiple-maps-d3/" class="uri">http://blog.webkid.io/multiple-maps-d3/</a></li>
<li>Example: <a href="http://datatodisplay.com/blog/interactive-data-visualisation/premier-league-small-multiples/" class="uri">http://datatodisplay.com/blog/interactive-data-visualisation/premier-league-small-multiples/</a></li>
<li>Tutorial with a brush: <a href="http://tympanus.net/codrops/2012/08/29/multiple-area-charts-with-d3-js/" class="uri">http://tympanus.net/codrops/2012/08/29/multiple-area-charts-with-d3-js/</a></li>
</ul>
<p>We'll build some next week. Think about data in your datasets that could be done with small mutiples.</p>
<p><strong>Reminder: Old D3 Code Alert in Some Tutorials</strong></p>
<p>If you see this stuff (e.g., in some of Flowing Data's tutorials):</p>
<pre><code>&quot;svg:line&quot;
&quot;svg:svg&quot;
&quot;svg:rect&quot;</code></pre>
<p>it's old D3 code. We used to have to say &quot;svg&quot; in front of all the svg DOM elements. Not necessary anymore.</p>
<h2 id="recent-interesting-things">Recent Interesting Things</h2>
<ul>
<li>Malofiej awards for online vis (last week): <a href="http://www.maartenlambrechts.be/malofiej24-the-awards/" class="uri">http://www.maartenlambrechts.be/malofiej24-the-awards/</a>
<ul>
<li>First place: Amazing scrollytelling animated story: <a href="http://www.theguardian.com/us-news/ng-interactive/2015/oct/19/homan-square-chicago-police-detainees" class="uri">http://www.theguardian.com/us-news/ng-interactive/2015/oct/19/homan-square-chicago-police-detainees</a></li>
</ul></li>
<li>Related vis yesterday: <a href="https://www.foreignaffairs.com/infographics/2015-10-15/china-not-rogue-donor" class="uri">https://www.foreignaffairs.com/infographics/2015-10-15/china-not-rogue-donor</a></li>
<li>What is a Front-End Developer: <a href="https://frontendmasters.gitbooks.io/front-end-handbook/content/what-is-a-FD.html" class="uri">https://frontendmasters.gitbooks.io/front-end-handbook/content/what-is-a-FD.html</a></li>
<li>A friendly guide to debugging (but not about d3 per se): <a href="http://p5js.org/tutorials/debugging/" class="uri">http://p5js.org/tutorials/debugging/</a></li>
<li><p>How We Made Failure Factories: <a href="https://source.opennews.org/en-US/articles/how-we-made-failure-factories/" class="uri">https://source.opennews.org/en-US/articles/how-we-made-failure-factories/</a> and the original piece: <a href="http://www.tampabay.com/projects/2015/investigations/pinellas-failure-factories/chart-failing-black-students/" class="uri">http://www.tampabay.com/projects/2015/investigations/pinellas-failure-factories/chart-failing-black-students/</a></p></li>
<li><p>NICAR data journalism tutorial links: <a href="http://blog.chryswu.com/2016/03/08/nicar16-slides-links-tutorials-resources/" class="uri">http://blog.chryswu.com/2016/03/08/nicar16-slides-links-tutorials-resources/</a></p></li>
</ul>
<h2 id="homework">Homework</h2>
<p>Readings:</p>
<ul>
<li>Read this section: <a href="http://chimera.labs.oreilly.com/books/1230000000345/ch11.html#_stack_layout" class="uri">http://chimera.labs.oreilly.com/books/1230000000345/ch11.html#_stack_layout</a>. You can see how some other layouts work in that same chapter.</li>
</ul>
<p><strong>Homework 1 (20pt)</strong>: JS Practice.</p>
<p>Finish <a href="js_homework.html" class="uri">js_homework.html</a>, all the TODOs. I gave you some links to stuff on d3.nest() a week or 2 ago, and you can search online. Send me a screencap of your console output and the gist with the files. Gist: &quot;Week 9: JS homework&quot;.</p>
<p><strong>Homework 2 (25pt)</strong>: Stacked Bars or Streamgraphs Transition</p>
<p>Make a stacked_bar_transitions.html using your own data. It must transition between normalized and non-normalized like my example does. Try to make it data that you can use in your final project. You need real D3 tooltips on this, too.</p>
<p>If you have timeseries data and want to do stacked area / streamgraph instead, you can use my model in stacked_area_to_stream.html. Add tooltips (real D3 ones, not title fields).</p>
<p>Send the gist as &quot;Week9: Stacked Transition.&quot;</p>
</body>
</html>
